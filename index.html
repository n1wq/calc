<!DOCTYPE html>

<html lang="ar" dir="rtl">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <link rel="icon" type="image/png" href="logo.png-removebg-preview.png" />
  <title>حاسبة الاستثمار الذكية</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="app">
    <header>
      <h1>📈 حاسبة الاستثمار</h1>
      <p>احسب استثماراتك وانت مرتاح</p>
    </header>

    <main class="card">
      <h2>💰 أدخل تفاصيل الاستثمار</h2>

      <div class="form-group">
        <label>المبلغ الأساسي (ر.س)</label>
        <input type="number" id="initial" placeholder="مثال: 10000" />
      </div>
<div class="form-group">
 
</div>

      <div class="form-group">
  <label>💸 الضخ الشهري (ر.س)</label>
  <input type="number" id="monthly" placeholder="مثال: 500" />
</div>

      <div class="form-group">
        <label>معدل العائد السنوي (%)</label>
        <input type="number" id="rate" placeholder="مثال: 6" />
      </div>

      <div class="form-group">
        <label>عدد السنوات</label>
        <input type="number" id="years" placeholder="مثال: 10" />
      </div>

      <button onclick="calculate()">احسب الاستثمار 🚀</button>

      <div class="result" id="result"></div>
    </main>

<header>
  <div class="logo-container">
    <img src="logo.png-removebg-preview.png" alt="شعار الموقع" class="logo" />
  </div>
</header>


    <footer>
      <p>© Nv جميع الحقوق محفوظة</p>
    </footer>
  </div>

<div class="toggle-theme">
  <button onclick="toggleTheme()"> تبديل الوضع الليلي</button>
</div>

 <script>
  let chartInstance;

  function calculate() {
    const btn = document.querySelector("button");
    btn.classList.add("clicked");

    setTimeout(() => btn.classList.remove("clicked"), 800);

    const initial = parseFloat(document.getElementById("initial").value);
    const rate = parseFloat(document.getElementById("rate").value) / 100;
    const years = parseInt(document.getElementById("years").value);
    const monthly = parseFloat(document.getElementById("monthly")?.value) || 0;

    if (isNaN(initial) || isNaN(rate) || isNaN(years)) {
      document.getElementById("result").innerHTML = "<p class='error'>⚠️ أدخل كل البيانات بشكل صحيح.</p>";
      return;
    }

    let data = [];
    let injectedData = [];
    let labels = [];
    let future = initial;

    for (let i = 1; i <= years; i++) {
      future = (future + monthly * 12) * (1 + rate);
      data.push(future.toFixed(2));
      labels.push(`سنة ${i}`);
      injectedData.push(initial + monthly * 12 * i);
    }

    const totalInvested = initial + (monthly * 12 * years);
    const profit = future - totalInvested;

    document.getElementById("result").innerHTML = `
      <div class="result-box">
        <h3>📈 النتيجة</h3>
        <p>💰 القيمة المستقبلية: <strong>${future.toFixed(2)} ر.س</strong></p>
        <p>💸 الأرباح: <strong>${profit.toFixed(2)} ر.س</strong></p>
        <p>💼 إجمالي المبلغ المضخوخ: <strong>${(monthly * 12 * years).toFixed(2)} ر.س</strong></p>
        <canvas id="investmentChart" width="400" height="200"></canvas>
      </div>
    `;

    const ctx = document.getElementById("investmentChart").getContext("2d");

    if (chartInstance) {
      chartInstance.destroy();
    }

    chartInstance = new Chart(ctx, {
      type: "line",
      data: {
        labels: labels,
        datasets: [
          {
            label: "نمو الاستثمار",
            data: data,
            backgroundColor: "rgba(0, 188, 212, 0.2)",
            borderColor: "#00acc1",
            borderWidth: 3,
            pointBackgroundColor: "#00796b",
            tension: 0.4,
            fill: true,
          },
          {
            label: "إجمالي المبلغ المضخوخ",
            data: injectedData,
            borderColor: "#ff9800",
            borderWidth: 2,
            borderDash: [5, 5],
            pointBackgroundColor: "#ff9800",
            fill: false,
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            display: true,
            labels: {
              font: {
                family: 'Cairo',
                size: 14,
              }
            }
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            ticks: {
              callback: function(value) {
                return value + ' ر.س';
              }
            }
          }
        }
      }
    });
  }

  function toggleTheme() {
    document.body.classList.toggle("dark-mode");
  }
</script>
